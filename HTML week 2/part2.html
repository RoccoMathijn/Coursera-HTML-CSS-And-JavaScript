<!DOCTYPE html>
<html>
	<head>
	</head>

	<body onload="do_game()">
		<script>
			var finished = false;
			var colors = ["red", "green", "blue"];
			var target_index;
			var count = 0;

			function do_game(){
				colors.sort();
				target_index = Math.random();
				target_index *= colors.length;
				target_index = Math.floor(target_index);

				alert("The target color is:" + colors[target_index]);

				while(!finished){
					var guess_input = prompt("Take your guess. The list of possible colors is: " + colors);
					count += 1;
					finished = check_guess(guess_input);
					}
			}
			
			function check_guess(guess_input){
				if(colors.indexOf(guess_input) == -1){
					alert("I don't recognize that color!");
					return false;
				}
				if(colors.indexOf(guess_input)>target_index){
					alert("Your color is higher in the alphabet!");
					return false;
				}
				if(colors.indexOf(guess_input)<target_index){
					alert("Your color is lower in the alphabet!");
					return false;
				}
				if(colors.indexOf(guess_input) == target_index){
					myBody=document.getElementsByTagName("body")[0];
					myBody.style.background=guess_input;
					alert("You've guessed correctly. Congratulations! You've guessed " + count + " time(s).");
					return true;
				}
			}
		</script>
	</body>
</html>